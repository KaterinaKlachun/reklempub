"use strict";(self["webpackChunkreklamepub"]=self["webpackChunkreklamepub"]||[]).push([[553],{7531:function(t,o,e){e.r(o),e.d(o,{default:function(){return X}});var c=e(6768),l=e(4232),r=e.p+"img/minus.9657e51a.svg",a=e.p+"img/plus.ef3b9723.svg";const s={class:"info"},u={class:"pagination"},d={key:0,class:"wrapper"},n={class:"product"},i={class:"product_left"},p=["src","alt"],k={class:"product_right"},m={class:"stock_info"},g={id:"art"},v={class:"custom-select"},L={class:"options"},_=["value"],h={id:"product-price",class:"product-price"},C={class:"add-to-cart-container"},b={class:"quantity-counter"},f={class:"product_info"},y={key:1};function I(t,o,e,I,Q,w){const E=(0,c.g2)("router-link");return(0,c.uX)(),(0,c.CE)(c.FK,null,[(0,c.Lk)("section",s,[(0,c.Lk)("div",u,[(0,c.bF)(E,{to:"/"},{default:(0,c.k6)((()=>o[4]||(o[4]=[(0,c.eW)("Главная / ")]))),_:1}),(0,c.bF)(E,{to:"/catalog"},{default:(0,c.k6)((()=>o[5]||(o[5]=[(0,c.eW)("Каталог /")]))),_:1})])]),Q.product?((0,c.uX)(),(0,c.CE)("section",d,[(0,c.Lk)("div",n,[(0,c.Lk)("div",i,[(0,c.Lk)("img",{src:Q.selectedColorImage,alt:Q.product.name,class:"product-image"},null,8,p)]),(0,c.Lk)("div",k,[(0,c.Lk)("p",null,(0,l.v_)(Q.product.name),1),(0,c.Lk)("div",m,[(0,c.Lk)("p",g,"Арт. "+(0,l.v_)(Q.product.article),1),(0,c.Lk)("p",null,"На складе "+(0,l.v_)(Q.product.stock)+" шт.",1)]),(0,c.Lk)("div",v,[(0,c.Lk)("div",L,[o[6]||(o[6]=(0,c.Lk)("p",null,"Цвет",-1)),(0,c.Lk)("select",{onChange:o[0]||(o[0]=t=>w.updateColorImage(t.target.value))},[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(Q.product.product_colors,(t=>((0,c.uX)(),(0,c.CE)("option",{key:t.color,value:t.color},(0,l.v_)(t.color),9,_)))),128))],32)])]),(0,c.Lk)("p",h,(0,l.v_)(Q.product.price)+" ₽",1),(0,c.Lk)("div",C,[(0,c.Lk)("button",{class:"add-to-cart-button",onClick:o[1]||(o[1]=(...t)=>w.addToCart&&w.addToCart(...t)),"aria-label":"Добавить в корзину"}," В корзину "),(0,c.Lk)("div",b,[(0,c.Lk)("button",{onClick:o[2]||(o[2]=t=>Q.selectedQuantity=Math.max(1,Q.selectedQuantity-1)),class:"decrement-button","aria-label":"Уменьшить количество"},o[7]||(o[7]=[(0,c.Lk)("img",{src:r,alt:"Уменьшить количество"},null,-1)])),(0,c.Lk)("span",null,(0,l.v_)(Q.selectedQuantity),1),(0,c.Lk)("button",{onClick:o[3]||(o[3]=t=>Q.selectedQuantity++),class:"increment-button","aria-label":"Увеличить количество"},o[8]||(o[8]=[(0,c.Lk)("img",{src:a,alt:"Увеличить количество"},null,-1)]))])])])]),(0,c.Lk)("div",f,[o[9]||(o[9]=(0,c.Lk)("h1",null,"Описание",-1)),(0,c.Lk)("p",null,(0,l.v_)(Q.product.description),1)])])):((0,c.uX)(),(0,c.CE)("section",y,o[10]||(o[10]=[(0,c.Lk)("p",null,"Загрузка данных о продукте...",-1)])))],64)}e(8992),e(2577);var Q=e(4592),w={name:"ProductPage",props:["category","id"],data(){return{product:null,selectedColorImage:null,selectedQuantity:1}},methods:{async loadProduct(){try{const{data:t,error:o}=await Q.A.from("products").select("*, product_colors(color, image_url)").eq("id",this.id).single();if(o)return void console.error("Ошибка загрузки продукта:",o);this.product=t,this.product.product_colors&&this.product.product_colors.length>0?this.selectedColorImage=this.product.product_colors[0].image_url:this.selectedColorImage=null}catch(t){console.error("Ошибка при загрузке продукта:",t)}},updateColorImage(t){const o=this.product.product_colors?.find((o=>o.color===t));this.selectedColorImage=o?o.image_url:null},addToCart(){console.log(`Добавлено в корзину: ${this.selectedQuantity} шт. товара "${this.product.name}"`)}},created(){this.loadProduct()},watch:{"$route.params.id":"loadProduct"}},E=e(1241);const P=(0,E.A)(w,[["render",I],["__scopeId","data-v-031db988"]]);var X=P}}]);
//# sourceMappingURL=553.2cf7ac56.js.map