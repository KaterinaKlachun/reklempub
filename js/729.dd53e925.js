"use strict";(self["webpackChunkreklamepub"]=self["webpackChunkreklamepub"]||[]).push([[729],{699:function(t,o,c){c.r(o),c.d(o,{default:function(){return X}});var e=c(6768),l=c(4232),r=c.p+"img/minus.9657e51a.svg",a=c.p+"img/plus.ef3b9723.svg";const s={class:"info"},u={class:"pagination"},d={key:0,class:"wrapper"},n={class:"product"},i={class:"product_left"},p=["src","alt"],k={class:"product_right"},m={class:"stock_info"},v={id:"art"},g={class:"custom-select"},L={class:"options"},_=["value"],h={id:"product-price",class:"product-price"},C={class:"add-to-cart-container"},f={class:"quantity-counter"},b={class:"product_info"},y={key:1};function I(t,o,c,I,Q,w){const E=(0,e.g2)("router-link");return(0,e.uX)(),(0,e.CE)(e.FK,null,[(0,e.Lk)("div",s,[(0,e.Lk)("div",u,[(0,e.bF)(E,{to:"/"},{default:(0,e.k6)((()=>o[4]||(o[4]=[(0,e.eW)("Главная / ")]))),_:1}),(0,e.bF)(E,{to:"/catalog"},{default:(0,e.k6)((()=>o[5]||(o[5]=[(0,e.eW)("Каталог /")]))),_:1})])]),Q.product?((0,e.uX)(),(0,e.CE)("div",d,[(0,e.Lk)("div",n,[(0,e.Lk)("div",i,[(0,e.Lk)("img",{src:Q.selectedColorImage,alt:Q.product.name,class:"product-image"},null,8,p)]),(0,e.Lk)("div",k,[(0,e.Lk)("p",null,(0,l.v_)(Q.product.name),1),(0,e.Lk)("div",m,[(0,e.Lk)("p",v,"Арт. "+(0,l.v_)(Q.product.article),1),(0,e.Lk)("p",null,"На складе "+(0,l.v_)(Q.product.stock)+" шт.",1)]),(0,e.Lk)("div",g,[(0,e.Lk)("div",L,[o[6]||(o[6]=(0,e.Lk)("p",null,"Цвет",-1)),(0,e.Lk)("select",{onChange:o[0]||(o[0]=t=>w.updateColorImage(t.target.value))},[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(Q.product.product_colors,(t=>((0,e.uX)(),(0,e.CE)("option",{key:t.color,value:t.color},(0,l.v_)(t.color),9,_)))),128))],32)])]),(0,e.Lk)("p",h,(0,l.v_)(Q.product.price)+" ₽",1),(0,e.Lk)("div",C,[(0,e.Lk)("button",{class:"add-to-cart-button",onClick:o[1]||(o[1]=(...t)=>w.addToCart&&w.addToCart(...t))},"В корзину"),(0,e.Lk)("div",f,[(0,e.Lk)("button",{onClick:o[2]||(o[2]=t=>Q.selectedQuantity=Math.max(1,Q.selectedQuantity-1)),class:"decrement-button"},o[7]||(o[7]=[(0,e.Lk)("img",{src:r,alt:"Уменьшить количество"},null,-1)])),(0,e.Lk)("span",null,(0,l.v_)(Q.selectedQuantity),1),(0,e.Lk)("button",{onClick:o[3]||(o[3]=t=>Q.selectedQuantity++),class:"increment-button"},o[8]||(o[8]=[(0,e.Lk)("img",{src:a,alt:"Увеличить количество"},null,-1)]))])])])]),(0,e.Lk)("div",b,[o[9]||(o[9]=(0,e.Lk)("h1",null,"Описание",-1)),(0,e.Lk)("p",null,(0,l.v_)(Q.product.description),1)])])):((0,e.uX)(),(0,e.CE)("div",y,o[10]||(o[10]=[(0,e.Lk)("p",null,"Загрузка данных о продукте...",-1)])))],64)}c(8992),c(2577);var Q=c(4592),w={name:"ProductPage",props:["category","id"],data(){return{product:null,selectedColorImage:null,selectedQuantity:1}},methods:{async loadProduct(){try{const{data:t,error:o}=await Q.A.from("products").select("*, product_colors(color, image_url)").eq("id",this.id).single();if(o)return void console.error("Ошибка загрузки продукта:",o);this.product=t,this.product.product_colors&&this.product.product_colors.length>0?this.selectedColorImage=this.product.product_colors[0].image_url:this.selectedColorImage=null}catch(t){console.error("Ошибка при загрузке продукта:",t)}},updateColorImage(t){const o=this.product.product_colors?.find((o=>o.color===t));this.selectedColorImage=o?o.image_url:null},addToCart(){console.log(`Добавлено в корзину: ${this.selectedQuantity} шт. товара "${this.product.name}"`)}},created(){this.loadProduct()},watch:{"$route.params.id":"loadProduct"}},E=c(1241);const P=(0,E.A)(w,[["render",I],["__scopeId","data-v-72a072a3"]]);var X=P}}]);
//# sourceMappingURL=729.dd53e925.js.map